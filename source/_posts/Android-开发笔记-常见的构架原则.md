---
title: Android-开发笔记-常见的构架原则
date: 2019-09-14 22:09:40
tags:
---

# 分离关注点

要遵循的最重要的原则是分离关注点。一种常见的错误是在一个 Activity 或 Fragment 中编写所有代码。
这些基于界面的类应仅包含处理界面和操作系统交互的逻辑。您应尽可能使这些类保持精简，这样可以避免许多与生命周期相关的问题。

# 通过模型驱动界面

模型是负责处理应用数据的组件。它们独立于应用中的 View 对象和应用组件，因此不受应用的生命周期以及相关的关注点的影响。

持久性是理想之选，原因如下：
* 如果 Android 操作系统销毁应用以释放资源，用户不会丢失数据。
* 当网络连接不稳定或不可用时，应用会继续工作。

# 架构
![](./../images/final-architecture.png "Title")

# 最佳做法

* 避免将应用的入口点（如 Activity、Service 和广播接收器）指定为数据源。
* 在应用的各个模块之间设定明确定义的职责界限。
* 尽量少公开每个模块中的代码。
* 考虑如何使每个模块可独立测试。
* 专注于应用的独特核心，以使其从其他应用中脱颖而出。
* 保留尽可能多的相关数据和最新数据。
* 将一个数据源指定为单一可信来源。

# Libraries

### Jetpack

* Databinding
* Lifecycle & ViewModel
* Paging
* Room
* Navigation

### Async Operation

* Coroutine

### DI

* Dagger2
